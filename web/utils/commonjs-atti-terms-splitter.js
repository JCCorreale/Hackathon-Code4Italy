// Generated by CoffeeScript 1.7.1
var fs, splitter;

fs = require('fs');

splitter = function(input, outputPath) {
  var e1, i, res, source, _i, _len;
  if (outputPath == null) {
    outputPath = './';
  }
  if (typeof input === 'string') {
    source = require(input);
  } else {
    source = input;
  }
  res = [];
  for (i = _i = 0, _len = source.length; _i < _len; i = ++_i) {
    e1 = source[i];
    res.push({
      id: i,
      atto: e1.iri
    });
    fs.writeFile(outputPath + ("atto-" + i + ".json"), JSON.stringify({
      atto: e1.iri,
      terms: e1.terms
    }), function() {});
  }
  fs.writeFile(outputPath + 'atti-index.json', JSON.stringify(res), function() {});
};

module.exports = splitter;
