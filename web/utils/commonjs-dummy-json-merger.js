// Generated by CoffeeScript 1.7.1
var fs, merger;

fs = require('fs');

merger = function(attiInfoFileName, attiTermsFileName, outputPath) {
  var e1, e2, res, source1, source2, _i, _j, _len, _len1;
  if (typeof attiInfoFileName === 'string') {
    source1 = require(attiInfoFileName);
  } else {
    source1 = attiInfoFileName;
  }
  if (typeof attiTermsFileName === 'string') {
    source2 = require(attiTermsFileName);
  } else {
    source2 = attiTermsFileName;
  }
  res = [];
  for (_i = 0, _len = source1.length; _i < _len; _i++) {
    e1 = source1[_i];
    for (_j = 0, _len1 = source2.length; _j < _len1; _j++) {
      e2 = source2[_j];
      if (e1.atto === e2.iri) {
        e1.terms = e2.terms;
      }
    }
  }
  res = source1;
  fs.writeFile(outputPath + "atti.json", JSON.stringify(res), function() {});
};

module.exports = merger;
